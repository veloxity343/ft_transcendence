# ============================================================================
# ft_transcendence - Master Environment Configuration
# ============================================================================
# Copy this file to .env and update the values for your deployment
# This file is used by docker-compose.yml to configure all services
# ============================================================================

# ============================================================================
# NETWORK CONFIGURATION
# ============================================================================
# Set this to your VM's IP address or domain name
# Examples:
#   - Local development:     localhost
#   - VM bridged network:    192.168.x.x
#   - Production domain:     pongdynasty.duckdns.org
HOST_IP=pongdynasty.duckdns.org

# ============================================================================
# JWT AUTHENTICATION
# Generate using $(openssl rand -base64 64)
# ============================================================================
JWT_SECRET=your-jwt-secret

# Token expiration times
ACCESS_TOKEN_EXPIRATION=15m
REFRESH_TOKEN_EXPIRATION=7d

# ============================================================================
# 42 OAUTH
# ============================================================================
# Get these from: https://profile.intra.42.fr/oauth/applications
# Callback URL should be: https://${HOST_IP}/api/auth/42/callback
FORTYTWO_ID=your-42-app-id-here
FORTYTWO_SECRET=your-42-app-secret-here

# ============================================================================
# GOOGLE OAUTH
# ============================================================================
# Get these from: https://console.cloud.google.com/
# Callback URL should be: https://${HOST_IP}/api/oauth/google/callback
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALLBACK_URL=https://${HOST_IP}:8443/api/oauth/google/callback

# ============================================================================
# TWO-FACTOR AUTHENTICATION
# ============================================================================
# App name shown in authenticator apps
MY_2FA_APP_NAME=Transcendence

# ============================================================================
# DATABASE
# ============================================================================
# SQLite database location (inside container)
DATABASE_URL=file:/app/data/transcendence.db

# ============================================================================
# ENVIRONMENT
# ============================================================================
# Options: DEVELOPMENT, PRODUCTION
ENVIRONMENT=PRODUCTION

# ============================================================================
# SSL/TLS
# ============================================================================
# Enable HTTPS
USE_SSL=true
SSL_DIR=./ssl
SSL_KEY_PATH=./ssl/key.pem
SSL_CERT_PATH=./ssl/cert.pem

# ============================================================================
# PORTS
# ============================================================================
BACK_PORT=3000
FRONT_PORT=4173

# ============================================================================
# UPLOAD CONFIGURATION
# ============================================================================
UPLOAD_DIR=./uploads
DEFAULT_AVATAR=https://cdn.intra.42.fr/users/default.png

# ============================================================================
# DEVELOPMENT (Local npm run dev) - DEV_ prefix
# These are extracted by 'make local-setup' to generate backend/.env
# ============================================================================
DEV_HOST_IP=localhost
DEV_DATABASE_URL=file:./dev.db
DEV_ENVIRONMENT=DEVELOPMENT
DEV_USE_SSL=true
DEV_BACK_PORT=3000
DEV_FRONT_PORT=5173
DEV_FRONT_URL=http://localhost:5173
DEV_SITE_URL=https://localhost:3000
DEV_SSL_DIR=./ssl
DEV_SSL_KEY_PATH=./ssl/key.pem
DEV_SSL_CERT_PATH=./ssl/cert.pem
DEV_FORTYTWO_CALLBACK=https://localhost:3000/auth/42/callback
DEV_GOOGLE_CALLBACK_URL=https://localhost:3000/oauth/google/callback
DEV_UPLOAD_DIR=./uploads
